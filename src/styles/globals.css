@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --paper: #fbf8f2;
  --ink: #0b1b3b;
  --muted: #3a4a6a;
  --rule: rgba(11, 27, 59, 0.18);
  --gold: #b08d57;
  --nav-h: 4.5rem;
  --motion-ease: cubic-bezier(0.22, 1, 0.36, 1);
  --motion-duration-entry: 720ms;
  --motion-duration-hover: 240ms;
  --motion-duration-page: 360ms;
  --motion-stagger-step: 100ms;
  --motion-translate-y: 14px;
  --motion-translate-x: 18px;
  --motion-scale-bg: 1.04;
}

html {
  scroll-padding-top: var(--nav-h);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  @apply bg-paper text-ink antialiased font-body;
  letter-spacing: 0.01em;
  line-height: 1.65;
  background-color: var(--paper);
  overflow-x: hidden;
}

section[id] {
  scroll-margin-top: calc(var(--nav-h) + 1.5rem);
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
  letter-spacing: 0.02em;
}

::selection {
  background: rgba(11, 27, 59, 0.15);
}

@layer utilities {
  .motion-ease {
    transition-timing-function: var(--motion-ease);
  }

  .motion-entry {
    transition:
      transform var(--motion-duration-entry) var(--motion-ease),
      opacity var(--motion-duration-entry) var(--motion-ease);
  }

  .motion-hover {
    transition:
      transform var(--motion-duration-hover) var(--motion-ease),
      opacity var(--motion-duration-hover) var(--motion-ease);
  }

  .motion-page {
    transition:
      transform var(--motion-duration-page) var(--motion-ease),
      opacity var(--motion-duration-page) var(--motion-ease);
  }

  .motion-reveal {
    opacity: 0;
    transform: translateY(var(--motion-translate-y));
    will-change: transform, opacity;
  }

  .motion-reveal-x {
    opacity: 0;
    transform: translateX(var(--motion-translate-x));
    will-change: transform, opacity;
  }

  .motion-bg-scale {
    transform: scale(var(--motion-scale-bg));
    will-change: transform;
  }

  .motion-in {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }

  .motion-bg-scale.motion-in {
    transform: scale(1);
  }

  .motion-stagger-1 {
    transition-delay: calc(var(--motion-stagger-step) * 1);
  }

  .motion-stagger-2 {
    transition-delay: calc(var(--motion-stagger-step) * 2);
  }

  .motion-stagger-3 {
    transition-delay: calc(var(--motion-stagger-step) * 3);
  }

  .motion-stagger-4 {
    transition-delay: calc(var(--motion-stagger-step) * 4);
  }

  .section-shell {
    padding-top: calc(var(--nav-h) + clamp(0.75rem, 2.5vh, 1.5rem));
    padding-bottom: clamp(1rem, 2.5vh, 1.75rem);
    scroll-margin-top: 0;
  }
}

.hero-divider {
  height: 1px;
  width: 100%;
  max-width: 260px;
  background: rgba(176, 141, 87, 0.7);
  transform-origin: left center;
}

.hero-bg-motion {
  transform-origin: center;
}

@media (prefers-reduced-motion: reduce) {
  .hero-divider,
  .hero-bg-motion {
    transform: none;
    opacity: 1;
  }
}
